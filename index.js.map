{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["document.addEventListener('DOMContentLoaded', () => {\n\n  // 1. Инициализация навигации\n  initNavigation();\n\n  // 2. GSAP Анимации для Hero секции\n  initHeroAnimation();\n\n  // 3. Запуск 3D-сцены\n  initThreeJsOrb();\n\n  // 4. Логика формы контактов\n  initContactForm();\n\n  // 5. Cookie Popup\n  initCookiePopup();\n\n  // 6. Анимация появления секций (ИСПРАВЛЕННАЯ)\n  initScrollAnimations();\n});\n\n/* =========================================\n 1. NAVIGATION\n ========================================= */\nfunction initNavigation() {\n  const burgerBtn = document.getElementById('burger-btn');\n  const navMenu = document.getElementById('nav-menu');\n  const navLinks = document.querySelectorAll('.nav__link');\n  const header = document.querySelector('.header');\n\n  if (burgerBtn && navMenu) {\n      burgerBtn.addEventListener('click', () => {\n          const isActive = burgerBtn.classList.toggle('is-active');\n          navMenu.classList.toggle('is-open');\n          document.body.style.overflow = isActive ? 'hidden' : '';\n      });\n  }\n\n  navLinks.forEach(link => {\n      link.addEventListener('click', () => {\n          if (navMenu && navMenu.classList.contains('is-open')) {\n              burgerBtn.classList.remove('is-active');\n              navMenu.classList.remove('is-open');\n              document.body.style.overflow = '';\n          }\n      });\n  });\n\n  window.addEventListener('scroll', () => {\n      if (header) {\n          if (window.scrollY > 50) {\n              header.style.boxShadow = \"0 4px 20px rgba(0,0,0,0.05)\";\n              header.style.background = \"rgba(255, 255, 255, 0.95)\";\n          } else {\n              header.style.boxShadow = \"none\";\n              header.style.background = \"rgba(255, 255, 255, 0.9)\";\n          }\n      }\n  });\n}\n\n/* =========================================\n 2. GSAP HERO ANIMATION\n ========================================= */\nfunction initHeroAnimation() {\n  if (typeof gsap !== 'undefined') {\n      const tl = gsap.timeline({ defaults: { ease: \"power3.out\" } });\n\n      tl.from(\".hero__badge\", { y: 20, opacity: 0, duration: 0.8, delay: 0.2 })\n        .from(\".hero__title\", { y: 30, opacity: 0, duration: 0.8 }, \"-=0.6\")\n        .from(\".hero__desc\", { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n        .from(\".hero__actions\", { y: 20, opacity: 0, duration: 0.8 }, \"-=0.6\")\n        .from(\".stat-item\", { y: 20, opacity: 0, duration: 0.6, stagger: 0.2 }, \"-=0.4\");\n  }\n}\n\n/* =========================================\n 3. THREE.JS ORB VISUALS\n ========================================= */\nfunction initThreeJsOrb() {\n  const container = document.getElementById('hero-canvas');\n  if (!container || typeof THREE === 'undefined') return;\n\n  const scene = new THREE.Scene();\n  const camera = new THREE.PerspectiveCamera(75, container.clientWidth / container.clientHeight, 0.1, 1000);\n  camera.position.z = 5;\n\n  const renderer = new THREE.WebGLRenderer({ alpha: true, antialias: true });\n  renderer.setSize(container.clientWidth, container.clientHeight);\n  renderer.setPixelRatio(window.devicePixelRatio);\n  container.appendChild(renderer.domElement);\n\n  const particlesGeometry = new THREE.IcosahedronGeometry(2, 4);\n  const particlesMaterial = new THREE.PointsMaterial({\n      size: 0.03, color: 0x6366f1, transparent: true, opacity: 0.8,\n  });\n  const particleSphere = new THREE.Points(particlesGeometry, particlesMaterial);\n  scene.add(particleSphere);\n\n  const wireGeometry = new THREE.IcosahedronGeometry(2.2, 1);\n  const wireMaterial = new THREE.MeshBasicMaterial({\n      color: 0x10b981, wireframe: true, transparent: true, opacity: 0.15\n  });\n  const wireSphere = new THREE.Mesh(wireGeometry, wireMaterial);\n  scene.add(wireSphere);\n\n  let mouseX = 0, mouseY = 0;\n  const windowHalfX = window.innerWidth / 2;\n  const windowHalfY = window.innerHeight / 2;\n\n  document.addEventListener('mousemove', (event) => {\n      mouseX = (event.clientX - windowHalfX);\n      mouseY = (event.clientY - windowHalfY);\n  });\n\n  const clock = new THREE.Clock();\n  const animate = () => {\n      requestAnimationFrame(animate);\n      const elapsedTime = clock.getElapsedTime();\n      let targetX = mouseX * 0.001;\n      let targetY = mouseY * 0.001;\n\n      particleSphere.rotation.y += 0.003;\n      particleSphere.rotation.x += 0.001;\n      wireSphere.rotation.y -= 0.002;\n      wireSphere.rotation.x -= 0.001;\n\n      const scale = 1 + Math.sin(elapsedTime * 0.5) * 0.05;\n      wireSphere.scale.set(scale, scale, scale);\n\n      particleSphere.rotation.y += 0.05 * (targetX - particleSphere.rotation.y);\n      particleSphere.rotation.x += 0.05 * (targetY - particleSphere.rotation.x);\n\n      renderer.render(scene, camera);\n  };\n  animate();\n\n  window.addEventListener('resize', () => {\n      const width = container.clientWidth;\n      const height = container.clientHeight;\n      renderer.setSize(width, height);\n      camera.aspect = width / height;\n      camera.updateProjectionMatrix();\n  });\n}\n\n/* =========================================\n 4. CONTACT FORM & VALIDATION\n ========================================= */\nfunction initContactForm() {\n  const form = document.getElementById('contact-form');\n  if (!form) return;\n\n  const phoneInput = document.getElementById('phone');\n  const statusDiv = document.getElementById('form-status');\n  const captchaLabel = document.getElementById('captcha-label');\n  const captchaInput = document.getElementById('captcha');\n\n  // 1. ВАЛИДАЦИЯ ТЕЛЕФОНА (Только цифры)\n  if (phoneInput) {\n      phoneInput.addEventListener('input', (e) => {\n          e.target.value = e.target.value.replace(/\\D/g, '');\n      });\n  }\n\n  // 2. Мат. капча\n  let num1 = Math.floor(Math.random() * 10);\n  let num2 = Math.floor(Math.random() * 10);\n  let sum = num1 + num2;\n  if (captchaLabel) captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n  // 3. Отправка\n  form.addEventListener('submit', (e) => {\n      e.preventDefault();\n      if (parseInt(captchaInput.value) !== sum) {\n          statusDiv.textContent = 'Ошибка: Неверный ответ на пример.';\n          statusDiv.style.color = 'red';\n          return;\n      }\n\n      const btn = form.querySelector('button[type=\"submit\"]');\n      const originalText = btn.textContent;\n      btn.textContent = 'Отправка...';\n      btn.disabled = true;\n\n      setTimeout(() => {\n          form.reset();\n          btn.textContent = 'Успешно!';\n          btn.style.background = '#10b981';\n          statusDiv.textContent = 'Спасибо! Мы свяжемся с вами в ближайшее время.';\n          statusDiv.style.color = '#10b981';\n\n          num1 = Math.floor(Math.random() * 10);\n          num2 = Math.floor(Math.random() * 10);\n          sum = num1 + num2;\n          captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n          setTimeout(() => {\n              btn.textContent = originalText;\n              btn.disabled = false;\n              btn.style.background = '';\n              statusDiv.textContent = '';\n          }, 3000);\n      }, 1500);\n  });\n}\n\n/* =========================================\n 5. COOKIE POPUP\n ========================================= */\nfunction initCookiePopup() {\n  const popup = document.getElementById('cookie-popup');\n  const acceptBtn = document.getElementById('cookie-accept');\n  if (!popup || !acceptBtn) return;\n\n  if (!localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          popup.classList.add('is-visible');\n          popup.style.display = 'flex';\n      }, 2000);\n  }\n\n  acceptBtn.addEventListener('click', () => {\n      localStorage.setItem('cookiesAccepted', 'true');\n      popup.classList.remove('is-visible');\n      setTimeout(() => { popup.style.display = 'none'; }, 500);\n  });\n}\n\n/* =========================================\n 6. SCROLL ANIMATIONS (FIXED & STABLE)\n ========================================= */\nfunction initScrollAnimations() {\n  // Проверка наличия GSAP\n  if (typeof gsap === 'undefined' || typeof ScrollTrigger === 'undefined') {\n      console.warn('GSAP animation library not loaded');\n      return;\n  }\n\n  gsap.registerPlugin(ScrollTrigger);\n\n  // 1. Анимация заголовков\n  gsap.utils.toArray('.section-title').forEach(title => {\n      gsap.fromTo(title,\n          { opacity: 0, y: 30 },\n          {\n              opacity: 1,\n              y: 0,\n              duration: 0.8,\n              ease: \"power2.out\",\n              scrollTrigger: {\n                  trigger: title,\n                  start: \"top 85%\",\n              }\n          }\n      );\n  });\n\n  // 2. Анимация карточек (FIX: Анимируем детей внутри сетки, а не батчем)\n  const grids = document.querySelectorAll('.features__grid, .blog-grid');\n\n  grids.forEach(grid => {\n      const cards = grid.children; // Получаем прямых потомков (карточки)\n\n      if (cards.length > 0) {\n          gsap.fromTo(cards,\n              { opacity: 0, y: 50 }, // Начальное состояние\n              {\n                  opacity: 1,\n                  y: 0,\n                  duration: 0.8,\n                  stagger: 0.2, // Задержка между появлением карточек\n                  ease: \"power2.out\",\n                  scrollTrigger: {\n                      trigger: grid, // Триггер на весь блок сетки\n                      start: \"top 80%\",\n                  },\n                  // ВАЖНО: Удаляем стили анимации после завершения, чтобы opacity не слетал\n                  onComplete: () => {\n                      gsap.set(cards, { clearProps: \"all\" });\n                  }\n              }\n          );\n      }\n  });\n}"],"names":["initNavigation","initHeroAnimation","initThreeJsOrb","initContactForm","initCookiePopup","initScrollAnimations","burgerBtn","navMenu","navLinks","header","isActive","link","container","scene","camera","renderer","particlesGeometry","particlesMaterial","particleSphere","wireGeometry","wireMaterial","wireSphere","mouseX","mouseY","windowHalfX","windowHalfY","event","clock","animate","elapsedTime","targetX","targetY","scale","width","height","form","phoneInput","statusDiv","captchaLabel","captchaInput","e","num1","num2","sum","btn","originalText","popup","acceptBtn","title","grid","cards"],"mappings":"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"}